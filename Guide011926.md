.\.venv\Scripts\python run.py

[1]
python -m venv venv
[2]
cMD
venv\Scripts\activate

powershell
venv\Scripts\Activate.ps1
[3]

pip install -r requirements.txt

or

python -m pip install -r requirements.txt

[4]
python run.py

MAc
[1]
python3 -m venv venv

If you get an error like No module named venv, install the python3-venv package (Linux) or reinstall Python with venv support.

[2]
source venv/bin/activate

[3]
pip install -r requirements.txt

python3 -m pip install -r requirements.txt
[4]
python run.py






1. Prerequisites
Install Python 3.9+

Go to: https://www.python.org/downloads/
Download the installer for your OS (Windows, macOS, or Linux).
On Windows:
During installation, check the box ‚ÄúAdd Python to PATH‚Äù.
After installation, open a terminal and check:
Windows (Command Prompt or PowerShell):
python --version
macOS / Linux:
python3 --version
You should see something like Python 3.10.12 (version can be different, but 3.9+ is recommended).
Basic command line access

Windows: Command Prompt or PowerShell
macOS: Terminal app
Linux: Your preferred terminal
2. Create a Project Folder
Choose a location for your project, e.g. C:\Projects\pywebview-app (Windows) or ~/projects/pywebview-app (macOS/Linux).
Create the folder:
Windows:
mkdir C:\Projects\pywebview-app
cd C:\Projects\pywebview-app
macOS / Linux:
mkdir -p ~/projects/pywebview-app
cd ~/projects/pywebview-app
3. Create a Virtual Environment (Recommended)
A virtual environment keeps your project‚Äôs Python packages separate from the global system.

Create the venv:

Windows:
python -m venv venv
macOS / Linux:
python3 -m venv venv
Activate the venv:

Windows (Command Prompt):
venv\Scripts\activate
Windows (PowerShell):
venv\Scripts\Activate.ps1
macOS / Linux:
source venv/bin/activate
Your prompt should now start with (venv) indicating the environment is active.

Whenever you want to work on this project, first cd into the folder and activate the virtual environment.

4. Add the Project Files
You should have at least these two files in your project folder:

app.py ‚Äì your Flask application (the one we built earlier with the WOW UI and LLM calls)
run.py ‚Äì the PyWebView launcher:
import threading
import webview
from app import app

def start_flask():
    app.run(host="127.0.0.1", port=5000, debug=False)

if __name__ == "__main__":
    # Run Flask in a separate thread
    t = threading.Thread(target=start_flask)
    t.daemon = True
    t.start()

    # Open PyWebView window pointing to Flask app
    webview.create_window("My Flask App", "http://127.0.0.1:5000")
    webview.start()
Make sure both app.py and run.py are in the same folder (your project folder).

5. Install Required Python Packages
With your virtual environment activated and inside your project folder, run:

pip install flask pywebview openai google-genai pymupdf
flask ‚Äì the web framework.
pywebview ‚Äì wraps your web app in a desktop window.
openai ‚Äì for OpenAI API.
google-genai ‚Äì for Gemini (Google) API.
pymupdf ‚Äì provides the fitz module for PDF extraction.
If pip is not recognized, use python -m pip or python3 -m pip instead.

Example:

python -m pip install flask pywebview openai google-genai pymupdf
6. (Optional but Recommended) Set API Keys as Environment Variables
Your app.py checks environment variables for keys and hides them in the UI if present.

6.1. OpenAI
Get an API key from:
https://platform.openai.com/api-keys

Then set the environment variable:

Windows (PowerShell):
setx OPENAI_API_KEY "your-openai-key-here"
macOS / Linux (bash/zsh):
export OPENAI_API_KEY="your-openai-key-here"
6.2. Gemini (Google)
Get an API key from:
https://aistudio.google.com/app/apikey

Set one of:

GEMINI_API_KEY or GOOGLE_API_KEY
Example:

Windows (PowerShell):
setx GEMINI_API_KEY "your-gemini-key-here"
macOS / Linux:
export GEMINI_API_KEY="your-gemini-key-here"
If you don‚Äôt set these as environment variables, you can enter them manually in the app‚Äôs UI under ‚ÄúAPI Keys‚Äù, and they will be stored only in memory (server side) while the app runs.

7. Verify app.py Runs (Optional Check)
Before involving PyWebView, it can help to make sure Flask runs on its own.

With venv active and inside your project folder, run:

python app.py
or (if you use python3):

python3 app.py
If it starts without errors, you‚Äôll see something like:

* Running on http://0.0.0.0:5000
Open a browser and go to:

http://127.0.0.1:5000
If you see the WOW 510(k) Assistant UI, your Flask app is working.

Stop it in the terminal with Ctrl + C.

8. Run the App via PyWebView (run.py)
Now use PyWebView to wrap the Flask app in a desktop window.

Make sure your virtual environment is activated.

From your project folder, run:

python run.py
or

python3 run.py
What happens:

run.py starts a background thread that runs Flask on http://127.0.0.1:5000.
PyWebView then opens a native window pointing to that local URL.
You should see a window titled ‚ÄúMy Flask App‚Äù containing your WOW 510(k) Assistant UI.
To close:

Close the PyWebView window.
If the terminal is still running, press Ctrl + C to fully stop everything.
9. Using the Application (Basic Flow)
Once the PyWebView window is open:

Theme & Language

Top left sidebar: choose light or dark theme.
Language dropdown (English / ÁπÅÈ´î‰∏≠Êñá) is currently a placeholder; it will affect UI text in a later update.
API Keys

If you set environment variables (OPENAI_API_KEY, GEMINI_API_KEY), the UI will show:
‚ÄúOpenAI key detected in environment (no need to enter).‚Äù
‚ÄúGemini key detected in environment (no need to enter).‚Äù
If you did not set env vars:
Enter your keys in the password fields.
Click Save Keys.
The status bar at the bottom of the sidebar should say ‚Äúsaved‚Äù (or similar).
Painter Style (WOW Magic Wheel)

Click on any painter name to select a style.
Click üé∞ Jackpot to randomly select one.
Click Apply Style to confirm (currently cosmetic; will later be used to influence prompts if desired).
Transform Submission

Paste your 510(k) submission text/markdown into the first large textarea, or upload a PDF.
Optionally:
Add ‚ÄúExtra instructions‚Äù (e.g., ‚ÄúEmphasize risk/benefit analysis‚Äù).
Adjust ‚ÄúMax tokens‚Äù (default: 12000).
Choose a model from the dropdown (e.g., gpt-4o-mini or gemini-2.5-flash).
Click Transform Submission.
The status bar will show something like ‚ÄúTransforming submission with gpt-4o-mini ‚Ä¶‚Äù.
When done, the formatted markdown appears in Submission Result.
Status updates to ‚ÄúDone (submission transformed)‚Äù or an error message.
Transform Checklist

Paste your checklist or upload a CSV/plain text file.
Optional extra instructions & max tokens.
Select a model.
Click Transform Checklist.
See output in Checklist Result.
Run Review

You can:
Paste processed submission/checklist markdowns manually, or
Leave them blank to reuse the last results automatically.
Optional extra instructions & max tokens.
Select a model.
Click Run Review.
A structured review report appears in Review Result.
10. Common Issues and Fixes
ModuleNotFoundError: No module named 'flask' or similar

Your virtual environment may not be active, or you installed packages globally but are using the venv.
Activate venv and reinstall:
# from project folder
source venv/bin/activate        # macOS/Linux
# or venv\Scripts\activate      # Windows
pip install flask pywebview openai google-genai pymupdf
ImportError: No module named 'fitz'

Ensure pymupdf installed correctly:
pip install pymupdf
Port already in use (Flask)

If another process uses port 5000, change the port in start_flask():
def start_flask():
    app.run(host="127.0.0.1", port=5001, debug=False)
And update the URL in create_window:
webview.create_window("My Flask App", "http://127.0.0.1:5001")
API key errors from OpenAI or Gemini

Check:
Did you set OPENAI_API_KEY and/or GEMINI_API_KEY / GOOGLE_API_KEY correctly?
Are there any extra spaces or quotes around the key?
In the UI, errors will show in the result box and status bar.
PyWebView window opens blank

If Flask failed to start (due to an error in app.py), PyWebView may show a blank page or error.
In that case:
Run python app.py directly and fix any errors shown.
Once app.py runs cleanly, try python run.py again.
11. Optional: Create a requirements.txt
So you can reinstall dependencies later with one command:

In your (activated) venv:

pip freeze > requirements.txt
Later, on another machine or after recreating the venv:

pip install -r requirements.txt
12. Stopping and Restarting
To stop the app:
Close the PyWebView window.
In the terminal, press Ctrl + C if the Python process is still running.
To restart:
Activate venv (if not active).
Run:
python run.py
20 Follow‚Äëup Questions
Do you want a ready‚Äëmade requirements.txt file content tailored exactly to this project (with pinned versions) so you can copy‚Äëpaste it?
Would you like a short ‚Äútroubleshooting checklist‚Äù focusing specifically on Windows (e.g., common PyMuPDF or PyWebView issues there)?
Are you interested in turning this into a simple installer or packaged app (e.g., with PyInstaller) so it runs without a terminal for end users?
Do you want clear screenshots or an ASCII diagram of the folder structure (app.py, run.py, venv/, etc.) to avoid confusion?
Would you like a minimal ‚ÄúHello World‚Äù Flask + PyWebView example in addition to this full app, so you can test your environment with something very small first?
Are you planning to run this on macOS or Linux as well, and should I include OS‚Äëspecific PyWebView notes (like GTK/WebKit requirements on Linux)?
Do you want instructions on how to run this app from VS Code (launch configuration, built‚Äëin terminal, etc.) instead of a plain system terminal?
Would you like step‚Äëby‚Äëstep instructions for setting environment variables in a persistent way (e.g., editing .bashrc, .zshrc, or Windows environment GUI)?
Are you interested in a small startup script (start.bat or start.sh) that activates the venv and runs run.py with a double‚Äëclick?
Should I provide a simple health‚Äëcheck endpoint (e.g. /health) in app.py to confirm the Flask server is up before PyWebView loads the URL?
Would you like the instructions extended to include basic Git usage (init repo, commit app.py/run.py, etc.) so you can version‚Äëcontrol your app?
Are you planning to add more routes or pages, and would a brief explanation of how HTML templates and render_template_string work help you extend the UI?
Do you want logging to a file added (for LLM errors, PDF parsing issues) so you can send logs to someone if you need help debugging?
Would you like instructions for running the Flask app in debug=True mode only during development, and keeping debug=False when shipping to other users?
Should I show you how to change the PyWebView window size (width/height, resizable, etc.) in webview.create_window?
Are you interested in an explanation of how the threading works in run.py (why Flask runs in a separate thread and what that implies)?
Do you want to know how to update app.py safely while the app is running (or the recommended workflow for stopping, editing, and restarting)?
Would it help to include a short section explaining the difference between 127.0.0.1 and 0.0.0.0 and when to use each for local vs. network access?
Are you planning to eventually deploy this app beyond your local machine (e.g. on a server), and should I outline the differences from this local PyWebView setup?
Would you like a minimal checklist document (one page) summarizing all the steps above so you can print it or keep it as a quick reference?Got it! Let‚Äôs break this down step by step in Markdown so you can learn what pywebview is and how to run a Flask app inside it locally.

üöÄ Using PyWebView with Flask
1. What is PyWebView?
PyWebView is a lightweight cross-platform library that lets you create GUI desktop applications using web technologies (HTML, CSS, JavaScript).

It works by embedding a native webview window (like a browser window without the browser UI) into a Python application.

Think of it as a way to wrap your Flask/Django/Streamlit web apps into a desktop app without needing Electron or heavy frameworks.

‚ú® Key Features
Runs on Windows, macOS, Linux.

Uses native system webview (Edge/Chromium on Windows, WebKit on macOS/Linux).

Supports two-way communication between Python and JavaScript.

Very lightweight compared to Electron.

2. Installing PyWebView
Make sure you have Python installed, then install:

bash
pip install pywebview flask
3. Example Flask app.py
Here‚Äôs a simple Flask app you might want to run:

python
# app.py
from flask import Flask

app = Flask(__name__)

@app.route('/')
def home():
    return "<h1>Hello from Flask inside PyWebView!</h1>"

if __name__ == "__main__":
    app.run(debug=True)
4. Running Flask with PyWebView
You need a launcher script that:

Starts the Flask server.

Opens a PyWebView window pointing to the local server.

python
# run.py
import threading
import webview
from app import app

def start_flask():
    app.run(host="127.0.0.1", port=5000, debug=False)

if __name__ == "__main__":
    # Run Flask in a separate thread
    t = threading.Thread(target=start_flask)
    t.daemon = True
    t.start()

    # Open PyWebView window pointing to Flask app
    webview.create_window("My Flask App", "http://127.0.0.1:5000")
    webview.start()
5. Running the Application
Save your Flask app as app.py.

Save the launcher script as run.py.

Run:

bash
python run.py
A desktop window will open showing your Flask app. üéâ

6. Notes & Tips
Debugging: Keep debug=False in Flask when embedding in PyWebView to avoid multiple reload threads.

Port: Ensure Flask runs on a fixed port (e.g., 5000) so PyWebView can connect.

Packaging: You can later package your app with PyInstaller or cx_Freeze to distribute it as a standalone desktop app.

7. Example Project Structure
Á®ãÂºèÁ¢º
my_flask_pywebview_app/
‚îÇ
‚îú‚îÄ‚îÄ app.py        # Flask app
‚îú‚îÄ‚îÄ run.py        # PyWebView launcher
‚îî‚îÄ‚îÄ requirements.txt
‚úÖ With this setup, you can run any Flask-based app locally inside a native desktop window using PyWebView.

Would you like me to also show you how to package this into a standalone executable (.exe/.app) so you can share it without requiring Python?
